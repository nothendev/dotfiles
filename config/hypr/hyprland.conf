#codeberg.org/noth/dotfiles

$terminal = [workspace special:term silent; noanim] ghostty
$mod = SUPER
$menu = tofi-drun | xargs hyprctl dispatch exec --

monitor=HDMI-A-1,1920x1080@60,0x0,1,bitdepth,8
monitor=DVI-D-1,1920x1080@60,1920x0,1,bitdepth,8

workspace=1,monitor:HDMI-A-1
workspace=2,monitor:DVI-D-1

exec=hyprpaper
exec=pkill i3bar-river; i3bar-river

exec-once=systemctl --user set-environment XDG_CURRENT_DESKTOP=hyprland
exec-once=systemctl --user import-environment DISPLAY SWAYSOCK WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once=hash dbus-update-activation-environment 2>/dev/null && dbus-update-activation-environment --systemd DISPLAY XDG_CURRENT_DESKTOP=hyprland WAYLAND_DISPLAY
exec-once=mako
exec-once=$terminal
exec-once=playerctld
exec-once=[workspace 2] librewolf

env=LIBVA_DRIVER_NAME,nvidia
env=__GLX_VENDOR_LIBRARY_NAME,nvidia
env=XCURSOR_SIZE,24
env=HYPRCURSOR_SIZE,24
env=WLR_NO_HARDWARE_CURSORS,1
env=MOZ_ENABLE_WAYLAND,1
env=XDG_SESSION_TYPE,wayland
env=XDG_CURRENT_DESKTOP,hyprland
env=GBM_BACKEND,nvidia-drm
env=NVD_BACKEND,direct

general {
    gaps_in = 5
    gaps_out = 5

    border_size = 2

    # https://wiki.hypr.land/Configuring/Variables/#variable-types for info about colors
    col.active_border = rgba(ff3300aa) rgba(ff3300aa) 45deg
    col.inactive_border = rgba(551100aa)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    resize_on_border = false

    # Please see https://wiki.hypr.land/Configuring/Tearing/ before you turn this on
    allow_tearing = false

    layout = dwindle
}

decoration {
    rounding = 10
    rounding_power = 2

    # Change transparency of focused and unfocused windows
    active_opacity = 1.0
    inactive_opacity = 1.0

    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }

    # https://wiki.hypr.land/Configuring/Variables/#blur
    blur {
        enabled = true
        size = 3
        passes = 1

        vibrancy = 0.1696
    }
}

animations {
    enabled = yes, please :)

    # Default curves, see https://wiki.hypr.land/Configuring/Animations/#curves
    #        NAME,           X0,   Y0,   X1,   Y1
    bezier = easeOutQuint,   0.23, 1,    0.32, 1
    bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    bezier = linear,         0,    0,    1,    1
    bezier = almostLinear,   0.5,  0.5,  0.75, 1
    bezier = quick,          0.15, 0,    0.1,  1
    bezier = my, 0.05, 0.9, 0.1, 1.05

    # Default animations, see https://wiki.hypr.land/Configuring/Animations/
    #           NAME,          ONOFF, SPEED, CURVE,        [STYLE]
    animation = border,        1,     10,  default
    animation = borderangle,   1,     8,  default
    animation = windows,       1,     7,  my
    animation = windowsOut,    1,     7,  default,       popin 80%
    animation = fade,          1,     7,  default
    animation = workspaces,    1,     7,  default
}

input {
  kb_layout=us,ru
  kb_variant=
  kb_model=
  kb_options=compose:caps
  kb_rules=
  numlock_by_default=true

  follow_mouse=1
  sensitivity=0

  touchpad {
    natural_scroll=false
  }
}

dwindle {
  pseudotile = true
  preserve_split = true
}

misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  enable_anr_dialog = false
  font_family = JetBrainsMono Nerd Font Mono
  enable_swallow = false
  swallow_regex = ^com.mitchellh.ghostty$
}

group {
  col.border_active = rgba(00afaffa) rgba(00afaafa) 45deg
  col.border_inactive = rgba(009999a0)

  groupbar {
    font_family = JetBrainsMono Nerd Font Mono
    font_size = 14
  }
}

bind = $mod, RETURN, togglespecialworkspace, term
bind = $mod shift, RETURN, exec, ghostty
bind = $mod, Q, killactive
bind = $mod, D, exec, $menu
bind = $mod shift, Q, killactive
bind = $mod shift, space, togglefloating
bind = $mod, TAB, changegroupactive, f
bind = $mod shift, TAB, changegroupactive, b
bind = , Print, exec, grim -g "$(slurp)"
bind = ctrl, code:49, exec, hyprctl switchxkblayout all next
bind = $mod, code:22, exec, swaylock -c 000000 -i ~/blackhole.png -s center --font 'Shantell Sans SemiBold' --font-size 24
bind = $mod shift, E, exit
bind = $mod, F, fullscreen
bind = $mod, S, togglegroup
bind = $mod shift, F, fullscreen
bind = $mod shift, G, moveoutofgroup
bind = $mod shift, H, movewindow, l
bind = $mod shift, J, movewindow, d
bind = $mod shift, K, movewindow, u
bind = $mod shift, L, movewindow, r
bind = $mod shift, left, movewindow, l
bind = $mod shift, down, movewindow, d
bind = $mod shift, up, movewindow, u
bind = $mod shift, right, movewindow, r
bind = $mod shift, S, exec, $terminal
bind = $mod shift, A, exec, pkill -9 i3bar-river; i3bar-river
bind = $mod shift, C, exec, hyprctl reload
bind = $mod, h, movefocus, l
bind = $mod, j, movefocus, d
bind = $mod, k, movefocus, u
bind = $mod, l, movefocus, r
bind = $mod, left, movefocus, l
bind = $mod, down, movefocus, d
bind = $mod, up, movefocus, u
bind = $mod, right, movefocus, r
bind = $mod, mouse_down, workspace, 1
bind = $mod, mouse_up, workspace, -1
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow
bind = , XF86AudioPlay, exec, playerctl play-pause

bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10
bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9
bind = $mod SHIFT, 0, movetoworkspace, 10
